@startuml
skinparam linetype ortho
skinparam monochrome true

start

partition "Авторизация и регистрация" {
  :Открыть приложение;
  if (Есть аккаунт?) then (да)
    :Вход в систему;
  else (нет)
    :Регистрация пользователя;
    :Подтвердить e-mail;
    :Вход в систему;
  endif
  if (Забыли пароль?) then (да)
    :Запрос ссылки для сброса;
    :Сброс пароля;
  endif
}

:Показать выбор типа моделирования;
if (Математическое) then

  partition "Математическое моделирование" {
    :Выбрать существующую модель или создать новую;
    if (Создать новую модель?) then (да)
      :Определить параметры модели;
    endif

    :Настроить входные данные;
    :Запустить расчёты;
    :Получить идеальные результаты;

    :Загрузить финансовую отчётность;

    fork
      :AI-анализ отчёта;
      :Извлечь реальные показатели;
    fork again
      :Просмотр идеальных результатов;
    end fork

    :Сравнить идеальные и реальные данные;
    :Построить график сопоставления;

    :Экспорт отчёта сравнения (опционально);
  }

else (Имитационное) 

  partition "Имитационное моделирование" {
    :Выбрать тип симуляции;
    :Загрузить финансовую отчётность;


    fork
      :AI-анализ отчёта;
      :Сформировать модель симуляции;
    fork again
      :Создать и настроить агентов;
    end fork

    :Запустить симуляцию;
    :Просмотреть результаты симуляции;

    if (Нужны улучшения?) then (да)
      :AI-рекомендации по улучшению;
      :Редактировать агентов/параметры;
      -> (Запустить симуляцию);
    endif

    :Сохранить результаты симуляции;
    :Экспорт отчёта симуляции (опционально);
  }

endif

partition "Управление отчётами" {
  :Просмотреть список отчётов;
  if (Действие с отчётом?) then
    if (Скачать?) then
      :Загрузить файл отчёта;
    else if (Удалить?) then
      :Удалить выбранные отчёты;
    endif
  endif
}

partition "Управление документами" {
  :Просмотреть список документов;
  if (Добавить документ?) then
    :Загрузить новый документ;
  endif
  if (Удалить документ?) then
    :Удалить выбранные документы;
  endif
}


stop
@enduml
